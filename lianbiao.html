<!html>
    <head>
        <!title>链表测试</!title>
    </head>
    <body>
        <script type="text/javascript">
            function Node(element) {
                this.element = element;
                this.next = null;
                this.prev = null;
            }
            function LList() {
                this.head = new Node("head");
                this.head.next = this.head;
                this.find = find;
                this.insert = insert;
                this.display = display;
                //this.findPrevious = findPrevious;
                this.remove = remove;
            }
            function find(item) {
                var currNode = this.head;
                while (currNode.element != item &&
                !(currNode.next.element == "head")) {
                    currNode = currNode.next;
                }
                return currNode;
            }
            function insert(newElement, item) {
                var newNode = new Node(newElement);
                var current = this.find(item);
                newNode.prev = current;
                newNode.next = current.next;
                current.next = newNode;
            }
            function display() {
                var currNode = this.head;
                while (!(currNode.next == null) &&
                !(currNode.next.element == "head")) {
                    print(currNode.next.element);
                    currNode = currNode.next;
                }
            }
            /*function findPrevious(item) {
                var currNode = this.head;
                while (!(currNode.next == null) &&
                (currNode.next.element != item)) {
                    currNode = currNode.next;
                }
                return currNode;
            }*/
            function remove(item) {
                var currNode = this.find(item);
                if (!(currNode.next == null) &&
                !(currNode.next.element == "head")) {
                    currNode.prev.next = currNode.next;
                    currNode.next.prev = currNode.prev;
                    currNode.next = null;
                    currNode.prev = null;
                }
            }
            function findLast() {
                var currNode = this.head;
                while (!(currNode.next == null) &&
                !(currNode.next.element == "head")) {
                    currNode = currNode.next;
                }
                return currNode;
            }
            function dispReverse() {
                var currNode = this.head;
                currNode = this.findLast();
                while (!(currNode.prev == null) &&
                !(currNode.next.element == "head")) {
                    print(currNode.element);
                    currNode = currNode.prev;
                }
            }

            var cities = new LList();
            cities.insert("Conway", "head");
            cities.insert("Russellville", "Conway");
            cities.insert("Carlisle", "Russellville");
            cities.insert("Alma", "Carlisle");
            cities.display();
            cities.remove("Carlisle");
            cities.display();

        </script>

    </body>
</!html>