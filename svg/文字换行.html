<html>
 <head>
        <meta charset="utf-8">  
        <title>文字换行</title>  
  </head> 
    <body>  
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>  
        <script>		   
		
		var width = 300;
		var height = 300;
		
		var svg = d3.select("body")
					.append("svg")
					.attr("width",width)
					.attr("height",height);

		var str = "云中谁寄锦书来，雁字回时，月满西楼";			
			
		var text = svg.append("text")
						.attr("x",30)
						.attr("y",100)
						.attr("font-size",30)
						.attr("font-family","simsun");
						
		var strs = str.split("，") ;
		
		console.log(strs);
							
		text.selectAll("tspan")
				.data(strs)
				.enter()
				.append("tspan")
				.attr("x",text.attr("x"))
				.attr("dy","1em")
				.text(function(d){
					return d;
				});
				
						
        </script>  
		
    </body>  
</html>  
